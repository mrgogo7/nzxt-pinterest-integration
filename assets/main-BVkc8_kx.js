import{i as e,g as t,j as r,u as n,a,b as o,c as s,d as i,U as l,e as c,f as d,h as u,C as p}from"./useAntiCache-75bBcy8R.js";import{r as m,R as y}from"./react-vendor-Bz3rmKJE.js";var v=Object.defineProperty,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,j=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function g({url:n,settings:a,className:o,style:s}){const i=m.useRef(null),l=e(n),c=t(a.align,a.x,a.y),d=((e,t)=>{for(var r in t||(t={}))h.call(t,r)&&j(e,r,t[r]);if(f)for(var r of f(t))b.call(t,r)&&j(e,r,t[r]);return e})({width:"100%",height:"100%",objectFit:a.fit,objectPosition:c,transform:`scale(${a.scale})`,transformOrigin:"center center",display:"block"},s);return m.useEffect(()=>{if(!l||!i.current)return;const e=i.current,t=()=>{return t=this,r=null,n=function*(){if(e&&(e.paused||e.ended))try{a.loop&&e.ended&&(e.currentTime=0),yield e.play()}catch(t){}},new Promise((e,a)=>{var o=e=>{try{i(n.next(e))}catch(t){a(t)}},s=e=>{try{i(n.throw(e))}catch(t){a(t)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,s);i((n=n.apply(t,r)).next())});var t,r,n},r=()=>{a.loop&&(e.currentTime=0,t())},n=()=>{a.autoplay&&!e.ended&&setTimeout(t,100)},o=()=>{a.autoplay&&t()},s=()=>{!document.hidden&&a.autoplay&&t()};e.addEventListener("ended",r),e.addEventListener("pause",n),e.addEventListener("loadeddata",o),document.addEventListener("visibilitychange",s);const c=setInterval(()=>{a.autoplay&&a.loop&&t()},2e3);return t(),()=>{e.removeEventListener("ended",r),e.removeEventListener("pause",n),e.removeEventListener("loadeddata",o),document.removeEventListener("visibilitychange",s),clearInterval(c)}},[l,a.autoplay,a.loop,n]),n?l?r.jsx("video",{ref:i,src:n,autoPlay:a.autoplay,loop:a.loop,muted:a.mute,playsInline:!0,className:o,style:d}):r.jsx("img",{src:n,alt:"Media",className:o,style:d}):null}const x="_krakenOverlay_arrfa_1";function E(){const{settings:e}=n(),{mediaUrl:t}=a(),c=o(),d=s(e),{width:u}=i(),p=u,m=e.backgroundColor||"#000000";return r.jsxs("div",{className:x,style:{width:`${p}px`,height:`${p}px`,background:m},children:[r.jsx(g,{url:t,settings:e}),"none"!==d.mode&&r.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:r.jsx(l,{overlay:d,metrics:c})})]})}c();const w=document.getElementById("root");if(!w)throw new Error("Root element #root not found");const L=d();u.createRoot(w).render(r.jsx(y.StrictMode,{children:L?r.jsx(E,{}):r.jsx(p,{})}));
