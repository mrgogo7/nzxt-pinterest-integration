// Simple i18n helper with localStorage persistence.
// All inline comments are in English as requested.

export type Lang = "en" | "tr";
export const LANG_KEY = "nzxtLang";

const dict: Record<Lang, Record<string, string>> = {
  en: {
    appTitle: "NZXT Elite Screen Customizer",
    language: "Language",
    reset: "Reset",
    resetConfirm: "Are you sure? This will reset ALL settings including the URL.",
    urlLabel: "Media URL",
    urlPlaceholder: "https://...mp4 / ...jpg / ...gif",
    save: "Save / Update",
    clear: "Clear",
    backgroundMediaUrlLabel: "Background Media URL",
    note:
      "Enter the URL you want to display on your device. After entering the URL, you can fine-tune the position in the preview below.",
    background: "Background",
    mediaTab: "Media",
    colorTab: "Color",
    colorPickerTitle: "Background Color",
    colorPickerDescription: "Select a solid color for your LCD screen background. The color will be displayed when no media URL is set.",
    quickPresets: "Quick Presets",
    previewTitle: "Media Preview",
    overlayPreviewTitle: "Overlay Preview",
    settingsTitle: "Media Settings",
    mediaOptionsTitle: "Media Options",
    overlaySettingsTitle: "Overlay Options",
    backgroundSectionTitle: "Media Settings",
    overlaySectionTitle: "Overlay Settings",
    scale: "Scale",
    xOffset: "X Offset",
    yOffset: "Y Offset",
    overlayXOffset: "Overlay X Offset",
    overlayYOffset: "Overlay Y Offset",
    align: "Align",
    fit: "Fit",
    alignCenter: "center",
    alignTop: "top",
    alignBottom: "bottom",
    alignLeft: "left",
    alignRight: "right",
    fitCover: "cover",
    fitContain: "contain",
    fitFill: "fill",
    overlayGuide: "Overlay Guide",
    overlayMode: "Mode",
    primaryReading: "Primary Reading",
    secondaryReading: "Secondary Reading",
    tertiaryReading: "Tertiary Reading",
    numberColor: "Number Color",
    textColor: "Text Color",
    numberSize: "Number Size",
    textSize: "Text Size",
    primaryNumberSize: "Primary Number Size",
    primaryTextSize: "Primary Text Size",
    secondaryNumberSize: "Secondary Number Size",
    secondaryTextSize: "Secondary Text Size",
    showDivider: "Show Divider",
    dividerWidth: "Divider Width",
    dividerThickness: "Divider Thickness",
    primaryNumberColor: "Primary Number Color",
    primaryTextColor: "Primary Text Color",
    secondaryNumberColor: "Secondary Number Color",
    secondaryTextColor: "Secondary Text Color",
    tertiaryNumberColor: "Tertiary Number Color",
    tertiaryTextColor: "Tertiary Text Color",
    tertiaryNumberSize: "Tertiary Number Size",
    tertiaryTextSize: "Tertiary Text Size",
    gap: "Gap",
    gapSecondaryTertiary: "Gap (Secondary-Tertiary)",
    dividerColor: "Divider Color",
    dividerGap: "Divider Gap",
    primaryXOffset: "Primary X Offset",
    primaryYOffset: "Primary Y Offset",
    secondaryXOffset: "Secondary X Offset",
    secondaryYOffset: "Secondary Y Offset",
    dualReadersXOffset: "Dual Readers X Offset",
    dualReadersYOffset: "Dual Readers Y Offset",
    overlayOptionsDescription: "Settings take effect immediately. Adjust overlay appearance and positioning in real-time.",
    revertToDefaults: "Revert to Defaults",
    readerOptions: "Reader Options",
    firstReaderOptions: "1st Reader Options",
    secondReaderOptions: "2nd Reader Options",
    thirdReaderOptions: "3rd Reader Options",
    mockDataWarning: "⚠️ Running in browser mode. NZXT CAM API is not available. Displayed values are mock data and do not reflect actual system metrics.",
  },
  tr: {
    appTitle: "NZXT Elite Screen Customizer",
    language: "Dil",
    reset: "Sıfırla",
    resetConfirm: "Emin misiniz? Bu işlem URL dahil TÜM ayarları sıfırlar.",
    urlLabel: "Medya URL",
    urlPlaceholder: "https://...mp4 / ...jpg / ...gif",
    save: "Kaydet / Güncelle",
    clear: "Temizle",
    backgroundMediaUrlLabel: "Arka Plan Medya URL",
    note:
      "Cihazınızda göstermek istediğiniz URL'yi giriniz. URL'yi girdikten sonra konumu aşağıdaki önizlemede ayarlayabilirsiniz.",
    quickPresets: "Hızlı Ayarlar",
    previewTitle: "Background Önizleme",
    overlayPreviewTitle: "Overlay Önizleme",
    settingsTitle: "Background Ayarları",
    overlaySettingsTitle: "Overlay Seçenekleri",
    backgroundSectionTitle: "Medya Ayarları",
    overlaySectionTitle: "Overlay Ayarları",
    scale: "Ölçek",
    xOffset: "X Ofset",
    yOffset: "Y Ofset",
    overlayXOffset: "Overlay X Ofset",
    overlayYOffset: "Overlay Y Ofset",
    align: "Hizalama",
    fit: "Sığdırma",
    alignCenter: "merkez",
    alignTop: "üst",
    alignBottom: "alt",
    alignLeft: "sol",
    alignRight: "sağ",
    fitCover: "kapla",
    fitContain: "içer",
    fitFill: "doldur",
    overlayGuide: "Rehber Çizgileri",
    overlayMode: "Mod",
    primaryReading: "Ana Metrik",
    secondaryReading: "İkincil Metrik",
    tertiaryReading: "Üçüncül Metrik",
    numberColor: "Sayı Rengi",
    textColor: "Metin Rengi",
    numberSize: "Sayı Boyutu",
    textSize: "Metin Boyutu",
    primaryNumberSize: "Ana Sayı Boyutu",
    primaryTextSize: "Ana Metin Boyutu",
    secondaryNumberSize: "İkincil Sayı Boyutu",
    secondaryTextSize: "İkincil Metin Boyutu",
    showDivider: "Ayırıcı Çizgi Göster",
    dividerWidth: "Ayırıcı Genişliği",
    dividerThickness: "Ayırıcı Kalınlığı",
    primaryNumberColor: "Ana Sayı Rengi",
    primaryTextColor: "Ana Metin Rengi",
    secondaryNumberColor: "İkincil Sayı Rengi",
    secondaryTextColor: "İkincil Metin Rengi",
    tertiaryNumberColor: "Üçüncül Sayı Rengi",
    tertiaryTextColor: "Üçüncül Metin Rengi",
    tertiaryNumberSize: "Üçüncül Sayı Boyutu",
    tertiaryTextSize: "Üçüncül Metin Boyutu",
    gap: "Mesafe",
    gapSecondaryTertiary: "Mesafe (İkincil-Üçüncül)",
    dividerColor: "Ayırıcı Rengi",
    dividerGap: "Ayırıcı Boşluğu",
    primaryXOffset: "Birincil X Ofset",
    primaryYOffset: "Birincil Y Ofset",
    secondaryXOffset: "İkincil X Ofset",
    secondaryYOffset: "İkincil Y Ofset",
    dualReadersXOffset: "İkili Okuyucular X Ofset",
    dualReadersYOffset: "İkili Okuyucular Y Ofset",
    overlayOptionsDescription: "Ayarlar anında geçerli olur. Overlay görünümünü ve konumunu gerçek zamanlı olarak ayarlayın.",
    revertToDefaults: "Varsayılana Döndür",
    readerOptions: "Okuyucu Seçenekleri",
    firstReaderOptions: "1. Okuyucu Seçenekleri",
    secondReaderOptions: "2. Okuyucu Seçenekleri",
    thirdReaderOptions: "3. Okuyucu Seçenekleri",
    mockDataWarning: "⚠️ Tarayıcı modunda çalışıyor. NZXT CAM API'sine erişilemiyor. Görüntülenen değerler mock veridir ve gerçek sistem metriklerini yansıtmaz.",
  },
};

export function getInitialLang(): Lang {
  const saved = localStorage.getItem(LANG_KEY) as Lang | null;
  return saved === "en" || saved === "tr" ? saved : "en";
}

export function t(key: string, lang?: Lang): string {
  const l = lang ?? getInitialLang();
  return dict[l]?.[key] ?? dict.en[key] ?? key;
}

export function setLang(lang: Lang) {
  localStorage.setItem(LANG_KEY, lang);
  window.dispatchEvent(
    new StorageEvent("storage", { key: LANG_KEY, newValue: lang })
  );
}
