/**
 * Transform Handles Styles
 * 
 * Resize Handle Redesign (Figma-style)
 * Rotation Handle Redesign (Figma-style)
 * Handle Size Optimization (minimal, Figma-like)
 * 
 * Design:
 * - 8px × 8px square handles (resize) - optimized for 200px preview
 * - 24px × 24px circular handles (rotation) - optimized to prevent overlap
 * - White body with cyan border and glow
 * - Subtle micro-transitions
 * - ::before pseudo-element for hit area (resize handles)
 */

/* Wrapper for resize handle (handles positioning and rotation) */
/* Position and rotation handled by inline styles in TSX */

/* Base resize handle - Optimized to 6px × 6px for minimal look */
.resize-handle {
  position: relative;
  width: 6px;
  height: 6px;
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(0, 200, 255, 1);
  border-radius: 1.5px;
  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.2);
  pointer-events: none; /* Hit area ::before handles pointer events */
  transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              background 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.15s ease;
  transform-origin: center center;
}

/* Hit area via ::before pseudo-element (10px × 10px) - Kept large for usability */
.resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 10px;
  height: 10px;
  transform: translate(-50%, -50%);
  pointer-events: auto;
  cursor: inherit; /* Inherit cursor from parent */
}

/* Hover state - subtle scale and glow - Adjusted for 6px size */
.resize-handle:hover {
  transform: scale(1.1);
  background: rgba(255, 255, 255, 1);
  border-color: rgba(0, 220, 255, 1);
  box-shadow: 0 0 0 1.5px rgba(0, 200, 255, 0.3);
}

/* Active state (during resize) - more pronounced - Adjusted for 6px size */
.resize-handle.active {
  transform: scale(1.15);
  background: rgba(255, 255, 255, 1);
  border-color: rgba(0, 240, 255, 1);
  box-shadow: 0 0 0 2px rgba(0, 200, 255, 0.4);
  transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              background 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Resizing state - opacity change for visual feedback */
.resize-handle.resizing {
  opacity: 0.9;
  transition: opacity 0.15s ease;
}

/* BEM-style modifier classes for handle directions (future use) */
/* Reserved for future customization: .resize-handle--nw, .resize-handle--n, etc. */

/* ============================================
   Rotation Handle Styles
   ============================================ */

/* Wrapper for rotation handle (handles positioning and rotation) */
/* Position and rotation handled by inline styles in TSX */

/* Base rotation handle - Optimized to 24px × 24px to prevent overlap */
.rotation-handle {
  position: relative;
  width: 24px;
  height: 24px;
  background: rgba(0, 200, 255, 0.15);
  border: 1px solid rgba(0, 200, 255, 0.8);
  border-radius: 50%;
  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: auto;
  opacity: 0.85; /* Default opacity for non-rotating state */
  transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              background 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.15s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.15s ease;
  transform-origin: center center;
}

/* Icon wrapper (for counter-rotation) */
.rotation-handle__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  /* Counter-rotation handled by inline style in TSX */
  /* Empty ruleset kept for future customization */
}

/* Hover state - subtle scale and glow - Adjusted for smaller size */
.rotation-handle:hover {
  transform: scale(1.08);
  background: rgba(0, 200, 255, 0.25);
  border-color: rgba(0, 220, 255, 1);
  box-shadow: 0 0 0 1.5px rgba(0, 200, 255, 0.3);
}

/* Active state (during rotation) - more pronounced - Adjusted for smaller size */
.rotation-handle.active {
  transform: scale(1.12);
  background: rgba(0, 200, 255, 0.35);
  border-color: rgba(0, 240, 255, 1);
  box-shadow: 0 0 0 2px rgba(0, 200, 255, 0.4);
  transition: transform 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              background 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.1s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Rotating state - enhanced visibility */
.rotation-handle.rotating {
  opacity: 1;
  background: rgba(0, 200, 255, 0.25);
  border-color: rgba(0, 220, 255, 1);
  transition: opacity 0.15s ease,
              background 0.15s ease,
              border-color 0.15s ease;
}

